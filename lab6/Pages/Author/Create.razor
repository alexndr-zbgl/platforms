@page "/author"
@using lab6.Data
@using lab6.Services
@inject AuthorService authorService
@inject NavigationManager navigationManager
<h1>Create authpr</h1>
<EditForm Model="author" OnSubmit="CreateAuthor">
	<div class="form-group row">
		<label>First Name</label>
		<div class="col-sm-10">
			<InputText @bind-Value="author.FirstName" />
		</div>
	</div>
	<div class="form-group row">
		<label>Last Name</label>
		<div class="col-sm-10">
			<InputText @bind-Value="author.LastName" />
		</div>
	</div>
	<DataAnnotationsValidator />
	<ValidationSummary />
	<div class="col-sm-10 pt-2">
		<button type="submit">Add author</button>
	</div>
</EditForm>
@code {
	Author author= new Author();

	public async Task CreateAuthor()
	{
		await authorService.Create(author);
		navigationManager.NavigateTo("/authors");
	}
}